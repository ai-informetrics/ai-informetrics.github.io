/* AII-EEKE 2026 custom styles — clean, responsive, accessible */

/* =========================
   0) Design tokens
   ========================= */
:root{
  --bg:#0b1020;
  --ink:#0f172a;
  --muted:#475569;
  --brand:#ef4444;
  --brand-2:#e03244;
  --brand-3:#e03244;
  --paper:#ffffff;
  --soft:#f1f5f9;
  --ring: rgba(59,130,246,0.35);
  --radius: 18px;
  --shadow: 0 10px 30px rgba(2,6,23,.15);

  /* Sticky header offset */
  --header-h: 72px;
}

/* =========================
   1) Global resets & base
   ========================= */
*{ box-sizing:border-box; }
html,body{ margin:0; padding:0; max-width:100%; overflow-x:hidden; }

body{
  font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Noto Sans", "Apple Color Emoji", "Segoe UI Emoji";
  color:var(--ink);
  background:linear-gradient(180deg, var(--soft), #fff 45%, #fff);
  line-height:1.6;
  -webkit-font-smoothing:antialiased;
  text-rendering:optimizeLegibility;
}

/* Prevent long URLs/emails from breaking layout */
a, p, li, td, th, strong, em{
  overflow-wrap:anywhere;
  word-break:break-word;
}

/* Media safety: never overflow and never distort */
img, video, iframe{
  max-width:100%;
  height:auto;
}

/* Container */
.container{
  max-width:1100px;
  margin-inline:auto;
  padding: clamp(16px, 2vw, 28px);
}

/* Sticky header anchor offset */
main{ padding-top: var(--header-h); }
html{ scroll-padding-top: var(--header-h); }
:is(h1,h2,h3,h4,h5,h6)[id], section[id]{
  scroll-margin-top: var(--header-h);
}

/* =========================
   2) Header / nav
   ========================= */
.header{
  position:sticky;
  top:0;
  z-index:40;
  backdrop-filter:saturate(150%) blur(7px);
  background: rgba(255,255,255,0.85);
  border-bottom:1px solid #e2e8f0;
}

.nav{
  display:flex;
  gap:12px;
  align-items:center;
  justify-content:space-between;
}

.nav a.brand{
  font-weight:800;
  letter-spacing:.3px;
  text-decoration:none;
  color:var(--ink);
  white-space:nowrap;
}

.nav .links{
  display:flex;
  gap:14px;
  flex-wrap:wrap;
  align-items:center;
}

.nav .links a{
  text-decoration:none;
  color:#334155;
  font-weight:600;
  padding:.5rem .75rem;
  border-radius:999px;
}

.nav .links a:hover,
.nav .links a:focus{
  background:#e2e8f0;
  outline:2px solid transparent;
  outline-offset:2px;
}

.nav .cta{
  background:var(--brand-3);
  color:white;
  border:none;
  padding:.55rem .9rem;
  border-radius:20px;
  box-shadow: var(--shadow);
  text-decoration:none;
  font-weight:700;
  white-space:nowrap;
  display:inline-flex;
  align-items:center;
  justify-content:center;
}

/* =========================
   3) Hero
   ========================= */
.hero{
  background:
    radial-gradient(1200px 500px at right -200px top -300px, #e0f2fe 10%, transparent 60%),
    radial-gradient(800px 300px at left -100px bottom -200px, #fee2e2 10%, transparent 60%);
  border-bottom: 1px solid #e5e7eb;
}

.hero .hero-card{
  background:var(--paper);
  border-radius: var(--radius);
  padding: clamp(18px, 3vw, 32px);
  box-shadow: var(--shadow);
  display:grid;
  gap:12px;
}

.badge{
  display:inline-flex;
  align-items:center;
  gap:8px;
  padding:.35rem .65rem;
  border-radius:999px;
  font-size:.9rem;
  font-weight:700;
  color:#0f172a;
  background:#f1f5f9;
  border:1px solid #e2e8f0;
}

.badge .dot{
  width:8px;
  height:8px;
  border-radius:999px;
  background:var(--brand);
}

h1{ font-size: clamp(28px, 4vw, 44px); line-height:1.15; margin:8px 0; }
h2{ font-size: clamp(22px, 3vw, 32px); margin: 28px 0 12px; }
h3{ font-size: clamp(18px, 2vw, 24px); margin: 18px 0 8px; }

p.lead{
  font-size: clamp(16px, 2vw, 18px);
  color:var(--muted);
}

/* =========================
   4) Cards / sections
   ========================= */
.section{ padding: 15px 0; }

.kicker{
  text-transform:uppercase;
  letter-spacing:.12em;
  font-size:.78rem;
  color:#64748b;
  font-weight:800;
}

/* Keep ONE layout system for cards: Grid (do not override to flex later) */
.cards{
  display:grid;
  grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
  gap:16px;
}

.card{
  background:var(--paper);
  border-radius:var(--radius);
  padding:18px;
  box-shadow:var(--shadow);
  border:1px solid #e5e7eb;
}

/* Long list spacing */
.long-list{
  display:grid;
  gap:0.6rem;
}

/* =========================
   5) Tables
   ========================= */
.table-wrap{
  overflow-x:auto;
  -webkit-overflow-scrolling: touch;
  border-radius:14px;
  border:1px solid #e2e8f0;
  box-shadow: var(--shadow);
  background:var(--paper);
}

/* Default tables */
table{
  width:100%;
  border-collapse:collapse;
  min-width:640px;
}

th, td{
  padding:12px 14px;
  border-bottom:1px solid #e5e7eb;
  vertical-align:top;
}

thead th{
  background:#f8fafc;
  text-align:left;
  font-weight:800;
}

tbody tr:hover{ background:#f8fafc; }

.table-note{
  font-size:.9rem;
  color:#64748b;
  margin-top:8px;
}

/* =========================
   6) Callouts, grids, footer
   ========================= */
.callout{
  display:grid;
  gap:10px;
  background: linear-gradient(180deg, #f8fafc, #fff);
  border:1px dashed #cbd5e1;
  padding:16px;
  border-radius:14px;
}

.grid-2{
  display:grid;
  gap:18px;
  grid-template-columns: repeat(auto-fit, minmax(300px,1fr));
}

.footer{
  margin-top:40px;
  padding:24px 0;
  border-top:1px solid #e2e8f0;
  color:#475569;
  background:#fafafa;
}

.footer a{ color:#0f172a; }

.tag{
  display:inline-flex;
  align-items:center;
  gap:8px;
  padding:.3rem .6rem;
  margin-top:10px;
  border-radius:999px;
  border:1px solid #e2e8f0;
  background:#fff;
  font-size:.9rem;
}

/* Buttons */
.btn{
  display:inline-block;
  text-decoration:none;
  border-radius:12px;
  padding:.7rem 1rem;
  font-weight:800;
  border:1px solid #a50d25;
  color:#a50d25;
  background:#fff;
}

.btn:hover{ background:#fff5f6; }
.btn.alt{ border-color:#e03244; background:#e03244; color:#fff; }
.btn.light{ border-color:#e2e8f0; background:#fff; color:#0f172a; }

/* Accessibility focus ring */
a:focus, button:focus, .btn:focus, .nav .links a:focus{
  outline: 3px solid var(--ring);
  outline-offset:2px;
  border-radius:10px;
}

/* Code-ish blocks */
.pre{
  font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
  background:#0f172a;
  color:#e5e7eb;
  padding:14px;
  border-radius:10px;
  overflow:auto;
}

/* =========================
   7) Hyperlinks (content areas)
   ========================= */
main :where(p, li, td, dd, h1, h2, h3, h4) a:not(.btn):not(.cta):not(.tag):not(.brand):not(.nav a){
  --link: var(--brand-3);
  color: var(--link);
  text-decoration-line: underline;
  text-decoration-thickness: 2px;
  text-underline-offset: 3px;
  text-decoration-color: rgba(59,130,246,.35);
  transition: color .2s ease, text-decoration-color .2s ease, box-shadow .2s ease;
}

main :where(p, li, td, dd, h1, h2, h3, h4) a:not(.btn):not(.cta):not(.tag):not(.brand):not(.nav a):hover{
  text-decoration-color: currentColor;
}

main :where(p, li, td, dd, h1, h2, h3, h4) a:not(.btn):not(.cta):not(.tag):not(.brand):not(.nav a):focus-visible{
  outline: 0;
  box-shadow: 0 0 0 4px var(--ring);
  border-radius: 6px;
  text-decoration-color: currentColor;
}

main :where(p, li, td, dd, h1, h2, h3, h4) a:not(.btn):not(.cta):not(.tag):not(.brand):not(.nav a):active{
  opacity:.9;
}

/* Utility link class */
.link{
  --link: var(--brand-3);
  color: var(--link);
  text-decoration: none;
  position: relative;
}
.link::after{
  content:"";
  position:absolute;
  left:0; right:0; bottom:-2px;
  height:2px;
  background: currentColor;
  transform: scaleX(0);
  transform-origin:left;
  opacity:.7;
  transition: transform .25s ease;
}
.link:hover::after, .link:focus-visible::after{ transform: scaleX(1); }

/* Variants */
.link-muted{ --link:#64748b; color:var(--link); }
.link-muted:hover{ color:#475569; }

.link-contrast{ --link:#fff; color:var(--link); }
.link-contrast::after{ background:#fff; }

.link-arrow{ padding-right:.15rem; }
.link-arrow::after{
  content:"→";
  margin-left:.25rem;
  display:inline-block;
  transform: translateX(-4px);
  transition: transform .2s ease;
}
.link-arrow:hover::after, .link-arrow:focus-visible::after{ transform: translateX(0); }

a[rel~="external"]:not(.btn):not(.cta):after{
  content:"↗";
  font-size:.9em;
  margin-left:.25rem;
  opacity:.8;
}

.link-chip{
  display:inline-flex;
  align-items:center;
  gap:.4rem;
  padding:.35rem .6rem;
  border-radius:999px;
  border:1px solid #e2e8f0;
  background:#fff;
  color:var(--ink);
  text-decoration:none;
  transition: transform .16s ease, box-shadow .2s ease;
}
.link-chip:hover{
  transform: translateY(-1px);
  box-shadow: var(--shadow);
}

/* =========================
   8) People section: FIX image distortion + mobile stacking
   ========================= */
/*
  Your HTML sets: <img style="width:200px; height:auto;">
  The safest approach is:
  - never set fixed heights
  - keep width responsive but capped at 200px
  - prevent any external rule from forcing height:100% etc.
*/
#people img{
  width: min(200px, 80vw) !important;
  height: auto !important;
  max-height: none !important;
  object-fit: contain !important;
  display:block !important;
  margin: 0 auto !important;
}

/* =========================
   9) Mobile responsive
   ========================= */
@media (max-width: 1024px){
  .container{ padding-left:16px; padding-right:16px; }
}

@media (max-width: 860px){
  :root{ --header-h: 92px; } /* header tends to become taller after wrapping */

  /* Stack header */
  .nav{
    flex-direction:column;
    align-items:stretch;
    gap:10px;
  }

  .nav a.brand{ align-self:flex-start; }

  .nav .links{
    width:100%;
    gap:10px 12px;
  }

  .nav .cta{
    width:100%;
    white-space:normal;
    padding:12px 14px;
  }

  /* Buttons become full width on small screens */
  .btn{
    display:inline-flex;
    justify-content:center;
    width:100%;
    box-sizing:border-box;
    margin:6px 0;
    text-align:center;
    white-space:normal;
    padding:12px 14px;
  }

  /* Tables: allow scroll; keep min-width but don't force huge if you prefer */
  table{ min-width: 640px; }
}

@media (max-width: 640px){
  :root{ --header-h: 104px; }

  body{ font-size:16px; }

  /* Hero title scales down a bit more for very small screens */
  h1{ font-size: clamp(22px, 6vw, 34px); }

  /* Slightly tighter section spacing */
  .section{ padding:18px 0; }

  /* People tables (image + bio) stack into blocks without breaking other tables */
  #people table,
  #people tbody,
  #people tr,
  #people td{
    display:block;
    width:100%;
  }
  #people tr{ margin-bottom:14px; }
  #people td{
    padding:10px 0;
    border-bottom:1px solid #e5e7eb;
  }
  #people td:last-child{ border-bottom:none; }

  /* Programme Committee table stays as table but scrolls */
  #pc table{ min-width: 520px; }

  /* Footer stack */
  .footer .grid-2{
    display:flex;
    flex-direction:column;
    gap:10px;
  }
}

/* =========================
   10) Dark mode
   ========================= */
@media (prefers-color-scheme: dark){
  body{
    background: radial-gradient(800px 400px at 20% 10%, #0b132b 5%, transparent 40%), #0f172a;
    color:#e2e8f0;
  }

  .hero .hero-card,
  .card,
  .table-wrap,
  .callout{
    background:#111827;
    border-color:#1f2937;
  }

  .header{
    background: rgba(17,24,39,.7);
    border-bottom:1px solid #1f2937;
  }

  .nav a.brand,
  .footer a{ color:#e5e7eb; }

  .nav .links a{ color:#cbd5e1; }
  .nav .links a:hover,
  .nav .links a:focus{ background:#0b132b; }

  thead th{ background:#0b132b; }
  tbody tr:hover{ background:#0b132b; }

  .footer{ background:#0b132b; color:#94a3b8; }

  main :where(p, li, td, dd, h1, h2, h3, h4) a:not(.btn):not(.cta):not(.tag):not(.brand):not(.nav a){
    text-decoration-color: rgba(96,165,250,.45);
  }

  .link-chip{ background:#0f172a; border-color:#1f2937; color:#e5e7eb; }

  /* People images still must not distort */
  #people img{
    object-fit: contain !important;
  }
}

/* =========================
   Desktop fix: stop portrait column from being squeezed in #people
   ========================= */

/* 1) Ensure the people table has enough intrinsic width; allow scroll instead of squeezing */
#people .table-wrap { overflow-x: auto; -webkit-overflow-scrolling: touch; }
#people table { min-width: 900px; table-layout: auto; }

/* 2) Lock the portrait column width so it won't be compressed by long bios */
#people td:first-child {
  width: 240px;          /* target column width */
  min-width: 240px;      /* prevent squeeze */
}

/* 3) Keep portraits at the intended size on desktop */
#people td:first-child img {
  width: 200px !important;
  max-width: none !important;  /* do not shrink to fit a narrow cell */
  height: auto !important;     /* keep aspect ratio */
  object-fit: contain !important;
  display: block;
  margin: 0 auto;
}
